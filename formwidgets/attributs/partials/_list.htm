<div id="att_list">
    
    <p><b>Champs dynamiques</b></p>
    <p class="help-block">Glissez déposez un champs  dans l'éditeur de code</p>
    <p class="help-block"><b><?= $text_info ?></b></p>
    <ul class="w-accordion">
        <?php foreach($ASKSArray as $askKey=>$askContent) : ?>
        <li>
                <button type="button"
                        class="btn btn btn-default"
                        style="width:100%"
                        data-control="dragvalue"
                        data-text-value="<?=$askKey?>"
                        data-clipboard-text="<?=$askKey?>"
                        data-drag-click="true">
                    <?=$askKey?>
                </button>
        </li>
        <?php endforeach ?>
    </ul>
    <p><b>Fonctions du modèle</b></p>
    <p class="help-block">Pour chaque fonction vou devez impérativement mettre une balise ouvrante et fermante</p>
    <ul class="w-accordion">
        <?php foreach($FNCSArray as $key=>$fnc) { ?>
        <li>
            <a class="w-ac-toggle bg-p" href=#><span><?=$key?></span></a>
            <div
                 class="w-ac-inner w-ac-list ">
                
                <?php foreach($fnc['starters'] as $copy=>$value) { ?>
                <?php if (!is_countable($value)) : ?>
                <button type="button"
                        class="btn btn-md btn-secondary"
                        style="width:100%"
                        data-control="dragvalue"
                        class="bg-a"
                        data-clipboard-text="<?=$copy?>"
                        data-text-value="<?=$copy?>"
                        data-drag-click="true">
                    <?=$value?>
                </button>
                <?php endif ?>
                <?php } ?>
                <?php foreach($fnc as $subkey=>$value) { ?>
                <?php if (!is_countable($value)) : ?>
                <button type="button"
                        class="btn btn-xs btn-default"
                        style="width:100%"
                        data-control="dragvalue"
                        data-text-value="<?=$subkey?>"
                        data-drag-click="true">
                    <?= e(trans($value)); ?> : <span style="font-size:0.8em"><?=$subkey?></span>
                </button>
                <?php endif ?>
                <?php } ?>
            </div>
        </li>
        <?php } ?>
    </ul>
    <p><b>Attributs</b></p>
    <p class="help-block">Glissez déposez un attribut dans un éditeur</p>
    <p class="help-block"><b><?= $text_info ?></b></p>
    <ul class="w-accordion">
        <?php foreach($attributesArray as $keyCategorie=>$arrayCategories) : ?>

        <?php if(count($arrayCategories['values'])>1) : ?>
        <li>
            <a class="w-ac-toggle bg-p" href=#><span
                      class="oc-<?=$arrayCategories['icon']?>"><?=$keyCategorie?></span></a>
            <div
                 class="<?php if($keyCategorie === array_key_first($attributesArray)) : ?>w-ac-show<?php else :?>w-ac-inner<?php endif?> w-ac-list">
                <?php foreach($arrayCategories['values'] as $key=>$value) : ?>
                <button type="button"
                        class="btn btn btn-default"
                        style="width:100%"
                        data-control="dragvalue"
                        data-clipboard-text="<?=$key?>"
                        data-text-value="<?=$key?>"
                        data-drag-click="true">
                    <?= e(trans($value)); ?><br><span style="font-size:0.8em"><?=$key?></span>
                </button>
                <?php endforeach ?>
            </div>
        </li>
        <?php endif ?>
        <?php endforeach ?>
    </ul>
    
</div>
<script>
new ClipboardJS('.btn');
$('#att_list .w-ac-toggle').click(function(e) {
    e.preventDefault();

    let $this = $(this);

    if ($this.next().hasClass('w-ac-show')) {
        $this.next().removeClass('w-ac-show');
        $this.next().slideUp(350);
    } else {
        $this.next().toggleClass('w-ac-show');
        $this.next().slideToggle(350);
    }
});
</script>
